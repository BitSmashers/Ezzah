<dom-module id="media-result" attributes="elem">
  <style>
    :host {
      display: block;
    }
    img {
      float:left;
      width: 150px;
    }
    .song-result {
      cursor: pointer;
    }
    .song-control:hover {
      color: blue;
    }
  </style>
  <template>
    <div><h3>{{elem.title}}</h3></div>
    <template is="dom-repeat" items="{{elem.tracks}}">
      <paper-item class="result-line song-result">
      <iron-icon class="song-control" icon="av:play-arrow" data-vid$="{{item.id}}" on-click="addVideo"></iron-icon>
      <iron-icon class="song-control" icon="av:playlist-add" data-vid$="{{item.id}}" on-click="addVideo"></iron-icon>
        <paper-item-body>
        <span class="song" >{{item.title}}</span>
        </paper-item-body>
      </paper-item>
    </template>
  </template>

  <script>
    (function () {
      Polymer({
        is: 'media-result',
        properties: {
          elem: {
            type: Object,
            observer: 'elemChanged'
          }
        },
        elemChanged: function(i, e) {
          //console.log(i, e)
        },
        ready: function() {
        },
        addVideo: function(evt) {
          var vid_id = evt.target.dataset.vid
          this.fire('iron-signal', {name: 'addvideo', data: vid_id});
        }
      });
    })();
  </script>

</dom-module>
